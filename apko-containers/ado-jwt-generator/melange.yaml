package:
  name: ado-jwt-generator
  version: 1
  epoch: 0
  description: "Azure DevOps JWT generator using Managed Identity"

  dependencies:
    runtime:
      - curl
      - jq
      - openssl
      - ca-certificates-bundle

environment:
  contents:
    repositories:
      - https://packages.wolfi.dev/os
    keyring:
      - https://packages.wolfi.dev/os/wolfi-signing.rsa.pub
    packages:
      - wolfi-baselayout
      - busybox

pipeline:
  - runs: |
      install -Dm755 entrypoint.sh "${{targets.destdir}}/usr/bin/ado-jwt-generator"
